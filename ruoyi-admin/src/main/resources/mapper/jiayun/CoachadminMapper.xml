<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.jiayun.mapper.CoachadminMapper">
    
    <resultMap type="Coachadmin" id="CoachadminResult">
        <result property="id"    column="id"    />
        <result property="name"    column="name"    />
        <result property="title"    column="title"    />
        <result property="badge"    column="badge"    />
        <result property="level"    column="level"    />
        <result property="experience"    column="experience"    />
        <result property="studentsCount"    column="students_count"    />
        <result property="rating"    column="rating"    />
        <result property="reviewsCount"    column="reviews_count"    />
        <result property="passRate"    column="pass_rate"    />
        <result property="features"    column="features"    />
        <result property="avatar"    column="avatar"    />
        <result property="description"    column="description"    />
        <result property="status"    column="status"    />
        <result property="createdAt"    column="created_at"    />
        <result property="updatedAt"    column="updated_at"    />
    </resultMap>

    <sql id="selectCoachadminVo">
        select id, name, title, badge, level, experience, students_count, rating, reviews_count, pass_rate, features, avatar, description, status, created_at, updated_at from coach
    </sql>

    <select id="selectCoachadminList" parameterType="Coachadmin" resultMap="CoachadminResult">
        <include refid="selectCoachadminVo"/>
        <where>  
            <if test="name != null  and name != ''"> and name like concat('%', #{name}, '%')</if>
            <if test="title != null  and title != ''"> and title = #{title}</if>
            <if test="badge != null  and badge != ''"> and badge = #{badge}</if>
            <if test="level != null  and level != ''"> and level = #{level}</if>
            <if test="experience != null "> and experience = #{experience}</if>
            <if test="studentsCount != null "> and students_count = #{studentsCount}</if>
            <if test="rating != null "> and rating = #{rating}</if>
            <if test="reviewsCount != null "> and reviews_count = #{reviewsCount}</if>
            <if test="passRate != null  and passRate != ''"> and pass_rate = #{passRate}</if>
            <if test="features != null  and features != ''"> and features = #{features}</if>
            <if test="avatar != null  and avatar != ''"> and avatar = #{avatar}</if>
            <if test="description != null  and description != ''"> and description like concat('%', #{description}, '%')</if>
            <if test="status != null "> and status = #{status}</if>
            <if test="createdAt != null "> and created_at = #{createdAt}</if>
            <if test="updatedAt != null "> and updated_at = #{updatedAt}</if>
        </where>
    </select>
    
    <select id="selectCoachadminById" parameterType="Long" resultMap="CoachadminResult">
        <include refid="selectCoachadminVo"/>
        where id = #{id}
    </select>

    <insert id="insertCoachadmin" parameterType="Coachadmin" useGeneratedKeys="true" keyProperty="id">
        insert into coach
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="name != null and name != ''">name,</if>
            <if test="title != null">title,</if>
            <if test="badge != null and badge != ''">badge,</if>
            <if test="level != null and level != ''">level,</if>
            <if test="experience != null">experience,</if>
            <if test="studentsCount != null">students_count,</if>
            <if test="rating != null">rating,</if>
            <if test="reviewsCount != null">reviews_count,</if>
            <if test="passRate != null">pass_rate,</if>
            <if test="features != null">features,</if>
            <if test="avatar != null">avatar,</if>
            <if test="description != null">description,</if>
            <if test="status != null">status,</if>
            <if test="createdAt != null">created_at,</if>
            <if test="updatedAt != null">updated_at,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="name != null and name != ''">#{name},</if>
            <if test="title != null">#{title},</if>
            <if test="badge != null and badge != ''">#{badge},</if>
            <if test="level != null and level != ''">#{level},</if>
            <if test="experience != null">#{experience},</if>
            <if test="studentsCount != null">#{studentsCount},</if>
            <if test="rating != null">#{rating},</if>
            <if test="reviewsCount != null">#{reviewsCount},</if>
            <if test="passRate != null">#{passRate},</if>
            <if test="features != null">#{features},</if>
            <if test="avatar != null">#{avatar},</if>
            <if test="description != null">#{description},</if>
            <if test="status != null">#{status},</if>
            <if test="createdAt != null">#{createdAt},</if>
            <if test="updatedAt != null">#{updatedAt},</if>
         </trim>
    </insert>

    <update id="updateCoachadmin" parameterType="Coachadmin">
        update coach
        <trim prefix="SET" suffixOverrides=",">
            <if test="name != null and name != ''">name = #{name},</if>
            <if test="title != null">title = #{title},</if>
            <if test="badge != null and badge != ''">badge = #{badge},</if>
            <if test="level != null and level != ''">level = #{level},</if>
            <if test="experience != null">experience = #{experience},</if>
            <if test="studentsCount != null">students_count = #{studentsCount},</if>
            <if test="rating != null">rating = #{rating},</if>
            <if test="reviewsCount != null">reviews_count = #{reviewsCount},</if>
            <if test="passRate != null">pass_rate = #{passRate},</if>
            <if test="features != null">features = #{features},</if>
            <if test="avatar != null">avatar = #{avatar},</if>
            <if test="description != null">description = #{description},</if>
            <if test="status != null">status = #{status},</if>
            <if test="createdAt != null">created_at = #{createdAt},</if>
            <if test="updatedAt != null">updated_at = #{updatedAt},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteCoachadminById" parameterType="Long">
        delete from coach where id = #{id}
    </delete>

    <delete id="deleteCoachadminByIds" parameterType="String">
        delete from coach where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>